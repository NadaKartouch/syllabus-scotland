
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Week 11 - More TDD, ES6 Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-tomorrow.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../week-12/lesson.html" />
    
    
    <link rel="prev" href="../week-10/lesson.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">Course</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Before you start
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../others/lesson0.html">
            
                <a href="../../others/lesson0.html">
            
                    
                    Week 0 - Introduction and basic setup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../house-rules.html">
            
                <a href="../../house-rules.html">
            
                    
                    House Rules
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../html-css/">
            
                <a href="../../html-css/">
            
                    
                    HTML/CSS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../html-css/week-01/lesson.html">
            
                <a href="../../html-css/week-01/lesson.html">
            
                    
                    Week 1 - Semantic HTML and CSS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../html-css/week-02/lesson.html">
            
                <a href="../../html-css/week-02/lesson.html">
            
                    
                    Week 2 - Responsive Web and layout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../html-css/week-03/lesson.html">
            
                <a href="../../html-css/week-03/lesson.html">
            
                    
                    Week 3 - Design frameworks, Naming patterns and Forms
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../js-core/">
            
                <a href="../../js-core/">
            
                    
                    JavaScript I
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../js-core/week-04/lesson.html">
            
                <a href="../../js-core/week-04/lesson.html">
            
                    
                    Week 4 - Hello JavaScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../js-core/week-05/lesson.html">
            
                <a href="../../js-core/week-05/lesson.html">
            
                    
                    Week 5 - Arrays
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../../js-core/week-06/lesson.html">
            
                <a href="../../js-core/week-06/lesson.html">
            
                    
                    Week 6 - More Arrays
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../js-core-2/">
            
                <a href="../../js-core-2/">
            
                    
                    JavaScript II
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../js-core-2/week-07/lesson.html">
            
                <a href="../../js-core-2/week-07/lesson.html">
            
                    
                    Week 7 - Objects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../js-core-2/week-08/lesson.html">
            
                <a href="../../js-core-2/week-08/lesson.html">
            
                    
                    Week 8 - JS in the Browser
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../../js-core-2/week-09/lesson.html">
            
                <a href="../../js-core-2/week-09/lesson.html">
            
                    
                    Week 9 - More JS in the Browser
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../">
            
                <a href="../">
            
                    
                    JavaScript III
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../week-10/lesson.html">
            
                <a href="../week-10/lesson.html">
            
                    
                    Week 10 - Good Code, TDD
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.6.2" data-path="lesson.html">
            
                <a href="lesson.html">
            
                    
                    Week 11 - More TDD, ES6
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../week-12/lesson.html">
            
                <a href="../week-12/lesson.html">
            
                    
                    Week 12 - Recap
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../../node-db/">
            
                <a href="../../node-db/">
            
                    
                    Node/DB I
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../../node-db/week-13/lesson.html">
            
                <a href="../../node-db/week-13/lesson.html">
            
                    
                    Week 13 - Node and Express 101
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../../node-db/week-14/lesson.html">
            
                <a href="../../node-db/week-14/lesson.html">
            
                    
                    Week 14 - Middleware, Templating and APIs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../../node-db/week-15/lesson.html">
            
                <a href="../../node-db/week-15/lesson.html">
            
                    
                    Week 15 - Advanced Node
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../../node-db/">
            
                <a href="../../node-db/">
            
                    
                    Node/DB II
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../../node-db/week-16/lesson.html">
            
                <a href="../../node-db/week-16/lesson.html">
            
                    
                    Week 16 - Basic SQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../../node-db/week-17/lesson.html">
            
                <a href="../../node-db/week-17/lesson.html">
            
                    
                    Week 17 - SQL with Node
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../../node-db/week-18/lesson.html">
            
                <a href="../../node-db/week-18/lesson.html">
            
                    
                    Week 18 - Data Integrity & Analytics
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../../react/">
            
                <a href="../../react/">
            
                    
                    React
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../../react/week-19/lesson.html">
            
                <a href="../../react/week-19/lesson.html">
            
                    
                    Week 19 - React 101
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../../react/week-20/lesson.html">
            
                <a href="../../react/week-20/lesson.html">
            
                    
                    Week 20 - State
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../../react/week-21/lesson.html">
            
                <a href="../../react/week-21/lesson.html">
            
                    
                    Week 21 - React-router & Recap
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Useful informations</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../../PRACTICES.html">
            
                <a href="../../PRACTICES.html">
            
                    
                    Coding Standards and Best Practices
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../../others/making-a-pull-request.html">
            
                <a href="../../others/making-a-pull-request.html">
            
                    
                    Making a Pull Request
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Workshops and other resources</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../../others/coding-101.html">
            
                <a href="../../others/coding-101.html">
            
                    
                    Coding 101
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../../html-css/compile-scss-instructions.html">
            
                <a href="../../html-css/compile-scss-instructions.html">
            
                    
                    Compiling SCSS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../../node-db/week-13/workshop.html">
            
                <a href="../../node-db/week-13/workshop.html">
            
                    
                    Express Workshop
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../../node-db/week-15/workshop.html">
            
                <a href="../../node-db/week-15/workshop.html">
            
                    
                    Hotel Workshop
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="../../others/aws-workshop-2.html">
            
                <a href="../../others/aws-workshop-2.html">
            
                    
                    AWS - DynamoDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6" >
            
                <a target="_blank" href="https://github.com/Thomas-Stewart/syllabus/tree/master/java">
            
                    
                    Java module
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">For Mentors</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../../CONTRIBUTING.html">
            
                <a href="../../CONTRIBUTING.html">
            
                    
                    Contributing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../../others/lesson-template.html">
            
                <a href="../../others/lesson-template.html">
            
                    
                    Lesson Template
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../../html-css/mentor-guide.html">
            
                <a href="../../html-css/mentor-guide.html">
            
                    
                    HTML/CSS Mentors guide
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Week 11 - More TDD, ES6</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p><img src="https://img.shields.io/badge/status-draft-darkred.svg" alt=""></p>
<h1 id="javascript-core-3">JavaScript Core 3</h1>
<p><strong> What we will learn today?</strong></p>
<ul>
<li>Intro to ES6</li>
<li>Classes and Context</li>
<li>Inheritance</li>
</ul>
<hr>
<h1 id="intro-to-es6">Intro to ES6</h1>
<p>ECMAScript 2015 (or ES6) is a significant update to JavaScript that introduces
new syntax for writing complex applications including classes and modules and
other features.</p>
<h2 id="const-and-let">const and let</h2>
<p>You have already come across the <code>var</code> keyword as a way to create new variables.
The <code>let</code> and <code>const</code> keywords are also used for variable creation, but the
variables created using these keywords have different scope. Var has &quot;function
scope&quot;, whereas let and const have &quot;block scope&quot;.</p>
<blockquote>
<p>Exercise: This <strong>badly designed</strong> function will throw the error <code>message is
not defined</code>. What is the problem, and how could we fix it?</p>
</blockquote>
<pre class="language-"><code class="lang-js"><span class="token keyword">function</span> <span class="token function">compareNumbers</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>m <span class="token operator">&lt;</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> message <span class="token operator">=</span> m <span class="token operator">+</span> <span class="token string">&quot; is smaller than &quot;</span> <span class="token operator">+</span> n<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> message <span class="token operator">=</span> m <span class="token operator">+</span> <span class="token string">&quot; is bigger than or equal to &quot;</span> <span class="token operator">+</span> n<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> message<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The <code>const</code> keyword is similar to <code>let</code>, the only difference is that a variable
declared using <code>const</code> can&apos;t be changed after it is assigned.</p>
<blockquote>
<p>Exercise: What advantages might a block scope variable have over a function
scope variable? In what situation might you want to use <code>const</code> instead of a
variable that can be re-assigned?</p>
<p>Exercise: Let&apos;s update this code to use <code>let</code> and <code>const</code> instead of <code>var</code></p>
</blockquote>
<pre class="language-"><code class="lang-js"><span class="token keyword">function</span> <span class="token function">getCircleArea</span><span class="token punctuation">(</span>radius<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> pi <span class="token operator">=</span> Math<span class="token punctuation">.</span>PI<span class="token punctuation">;</span>
  <span class="token keyword">var</span> rSquared <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span>radius<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> pi <span class="token operator">*</span> rSquared<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getCircleAreas</span><span class="token punctuation">(</span>radiusArr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> areasArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> radiusArr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> circleArea <span class="token operator">=</span> <span class="token function">getCircleArea</span><span class="token punctuation">(</span>radiusArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    areasArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>circleArea<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> areasArr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="template-literals">Template literals</h2>
<p>We do a lot of string concatenation in JavaScript - ES6 introduces a more
elegant way of accomplishing the same.</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">function</span> <span class="token function">greeting</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;Hello &quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;, welcome to JS core 3!&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Rewriting this function in ES6, we have</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">function</span> <span class="token function">greeting</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, welcome to JS core 3!`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="arrow-functions">Arrow functions</h2>
<blockquote>
<p>Exercise: ES6 also has a new way of declaring functions. Let&apos;s see how it
works.</p>
<p>Exercise: Refactor the previous code to have a separate function that checks
if gender is &apos;female&apos; or not, and use it in sayGreeting. Let&apos;s try and make
the code as compact as possible together using ES6 features.</p>
</blockquote>
<h1 id="classes-and-context">Classes and Context</h1>
<p>A class is an important concept in object-oriented programming. In general, a
class can be described as a &quot;blueprint&quot; or a &quot;plan&quot; for creating objects. After
a class is created, new objects with all of the features defined in that class
can then be created. These objects are called <em>instances</em> of the class.</p>
<p>Secondly, It&apos;s hard to talk about objects without talking about context and the
<code>this</code> keyword. When we execute a function in javascript, that function is
associated with some enclosing object. That object could be one that we made
ourselves, or it could be the global scope (the <code>Window</code> object). Understanding
context allows us to understand when and where we can manipulate an object&apos;s
properties.</p>
<h2 id="a-warning-about-javascript-classes">A warning about javascript &quot;classes&quot;</h2>
<p>Speaking strictly, javascript does not have proper classes. However ES6 provides
functionality that allows us to create things that usually look and act like
proper classes. At this point in your learning, this difference might not seem
important but it will be useful to remember when you are doing more complex work
in the future. Part of the homework after this class is to read about these
differences.</p>
<h1 id="creating-a-class">Creating a class</h1>
<p>I own a library and want to keep track of the books that people are borrowing
and returning. Using the style that we previously learned, we could implement a
system like this:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">let</span> myBooks <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">&quot;Wild Swans&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;The Dharma Bums&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Nausea&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;The Very Hungry Caterpillar&quot;</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> library <span class="token operator">=</span> <span class="token punctuation">{</span>
  books<span class="token punctuation">:</span> myBooks<span class="token punctuation">,</span>
  availableBooks<span class="token punctuation">:</span> myBooks<span class="token punctuation">,</span>
  checkoutBook<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>availableBooks <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>availableBooks<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>b <span class="token operator">=</span><span class="token operator">&gt;</span> b <span class="token operator">!==</span> book<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>Now our book system has become popular in the library world, and we need to
represent a lot of different libraries, each one requiring a copy of the object
format we specified above. We might even need to extend our library object to
suit specific cases. We can prepare for this scenario by creating a class called
<code>Library</code>, provided a plan for our library objects.</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">class</span> <span class="token class-name">Library</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>books <span class="token operator">=</span> books<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>availableBooks <span class="token operator">=</span> books<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">checkoutBook</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>availableBooks <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>availableBooks<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>b <span class="token operator">=</span><span class="token operator">&gt;</span> b <span class="token operator">!==</span> book<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> myBooks <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">&quot;Wild Swans&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;The Dharma Bums&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;Nausea&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;The Very Hungry Caterpillar&quot;</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> myLibrary <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Library</span><span class="token punctuation">(</span>myBooks<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<blockquote>
<p>Exercise: Add a <code>returnBook</code> function which appends a book onto the
<code>availableBooks</code> variable in our <code>myLibrary</code> object.</p>
<p>Exercise: check out &quot;Nausea&quot; and return it to the library.</p>
<p>Exercise: Alter the <code>checkoutBook</code> function to return <code>false</code> when a book
isn&apos;t available, and true otherwise.</p>
</blockquote>
<h2 id="using-inheritance-to-extend-our-library">Using Inheritance to extend our library</h2>
<p>We want to store information about a new library which contains audiobooks as
well as ordinary books. Audiobooks cannot be checked out, so they only need to
be stored. This new library should have all the same functionality regarding
ordinary books as our old <code>Library</code> object, but the class should be extended to
allow for the storage of an <code>audiobooks</code> array.</p>
<h2 id="more-on-this">More on <code>this</code></h2>
<blockquote>
<p>Exercise: what does <code>this</code> refer to in the following code snippets?</p>
</blockquote>
<pre class="language-"><code class="lang-js"><span class="token keyword">function</span> <span class="token function">getThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
  <span class="token function">getThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> myClass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myClass<span class="token punctuation">.</span><span class="token function">getThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
  <span class="token function">getThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> myObject <span class="token operator">=</span> <span class="token punctuation">{</span>
      thisFunction<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> myObject<span class="token punctuation">.</span><span class="token function">thisFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> myClass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myClass<span class="token punctuation">.</span><span class="token function">getThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<pre class="language-"><code class="lang-js"><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
  <span class="token function">getThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> myObject <span class="token operator">=</span> <span class="token punctuation">{</span> thisFunction<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">this</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> myObject<span class="token punctuation">.</span><span class="token function">thisFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> myClass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myClass<span class="token punctuation">.</span><span class="token function">getThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="more-es6">More ES6</h2>
<p>There are so many features in ES6. They&apos;re mostly what we call <code>syntax sugar</code>.
They don&apos;t provide new functionality, but new (more elegant) ways of
accomplishing the same tasks.</p>
<p>Since not all ES6 features are supported in all browsers, many developers and
projects use what is called <code>Transpilation</code> - a process that
transpiles/translates ES6 code to ES5 syntax that is supported by all browsers.</p>
<p>On Node, most ES6 features are now natively supported in Node 8.</p>
<blockquote>
<p>From now on, we expect you to use ES6 syntax in your assignments and the code
you write.</p>
</blockquote>
<h1 id="tdd-again">TDD again</h1>
<blockquote>
<p>Exercise: Clone the repo <a href="https://github.com/CodeYourFuture/js-core-2-exercises" target="_blank">https://github.com/CodeYourFuture/js-core-2-exercises</a></p>
<p>Let&apos;s talk about TDD again?</p>
<ol>
<li>Why do we do TDD</li>
<li>How do we run the tests? Read some of the tests</li>
<li>Notice we&apos;re separating our tests from our code now. We are making use of
<strong>modules</strong></li>
<li>Also notice the <strong>coverage</strong></li>
</ol>
</blockquote>
<h2 id="how-do-modules-work">How do modules work?</h2>
<p>So far, all our programs have been in their own single files. But Node programs
can become really large, and having all our code in only one file will not be
maintainable.</p>
<p>We can therefore split our code into so-called <em>modules</em>. A module is basically
a JavaScript file that makes its functionality available to other modules and
programs.</p>
<h2 id="creating-modules-exporting-code">Creating modules, exporting code</h2>
<p>It is really simple to take existing JavaScript code and turn it into a module
by exporting its functionality:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">function</span> <span class="token function">printName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;My name is &quot;</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> printName<span class="token punctuation">;</span>
</code></pre>
<p>The key here is the line containing <code>module.exports</code>. As you see, this is an
assignment, and whatever is assigned to <code>module.exports</code> will be made available
to other modules and program when this file is imported.</p>
<h2 id="using-modules-importing-code">Using modules, importing code</h2>
<p>But how do we make use of another module in our program? We need to <em>import</em> it,
and this is done using a function called <code>require()</code>.</p>
<blockquote>
<p>There are different module formats for JavaScript. The one we are using here,
which is natively supported by Node, is called <strong>CommonJS</strong>.</p>
</blockquote>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> printName <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./printName.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<blockquote>
<p>The string passed to the <code>require()</code> function is a <em>path</em> to the file you are
importing. <code>./</code> signifies the current directory, so the above command will
import a file called &quot;printName.js&quot; that is in the same directory as our
program.</p>
</blockquote>
<p>Assuming our program is in the same folder as <code>printName.js</code>, we can use the
above code to import the functionality provided by that module and store it in
the <code>printName</code> variable.</p>
<p>We can then continue to use the <code>printName</code> function as if it we defined it in
our own program!</p>
<pre class="language-"><code>var printName = require(&apos;./printName.js&apos;);

printName();
</code></pre><blockquote>
<p>Modules can not only export functions, but all variable types you already
learned about. Most commonly, they export a function or an object containing
multiple functions.</p>
<p><em>Together:</em> Edit the file <code>modules/main.js</code> and follow the instructions.</p>
</blockquote>
<h2 id="separating-code-and-tests">Separating code and tests</h2>
<p>Exporting and importing modules is really useful for testing, too.</p>
<p>As a rule of thumb, we never want to mix our actual code with our tests. It is
therefore common to put them in separate files. We are going to call the file
containing the tests after the file containing the code to be tested, just
appending <code>.test</code> at the end of the filename. Like so:</p>
<pre class="language-"><code>main.js               # Our main program
main.test.js          # Tests for our main program
someOtherCode.js      # A module called &quot;someOtherCode&quot;
someOtherCode.test.js # Tests for the &quot;someOtherCode&quot; module
</code></pre><blockquote>
<p>The naming is really up to convention - you can even put your tests in a
different folder! However, for Jest it is important to call test files
&quot;*.test.js&quot;.</p>
</blockquote>
<h1 id="resources">Resources</h1>
<ul>
<li><a href="http://es6-features.org/" target="_blank">ES6 features</a></li>
<li><a href="http://wesbos.com/let-vs-const/" target="_blank">Let and const</a></li>
</ul>
<h1 id="homework">Homework</h1>
<ol>
<li><p>Do part 2 of <a href="https://github.com/CodeYourFuture/cyf-election" target="_blank">cyf-election</a>.</p>
</li>
<li><p>Clone <a href="https://github.com/Samatar26/es6-challenge-cyf" target="_blank">this repo</a> and do the exercises involving converting ES5 code to ES6.</p>
</li>
<li><p>Read and understand examples #1 to #4 in <a href="https://blog.kevinchisholm.com/javascript/context-object-literals/" target="_blank">this blog post about context and <code>this</code></a>.</p>
</li>
</ol>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../week-10/lesson.html" class="navigation navigation-prev " aria-label="Previous page: Week 10 - Good Code, TDD">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../week-12/lesson.html" class="navigation navigation-next " aria-label="Next page: Week 12 - Recap">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Week 11 - More TDD, ES6","level":"1.6.2","depth":2,"next":{"title":"Week 12 - Recap","level":"1.6.3","depth":2,"path":"js-core-3/week-12/lesson.md","ref":"js-core-3/week-12/lesson.md","articles":[]},"previous":{"title":"Week 10 - Good Code, TDD","level":"1.6.1","depth":2,"path":"js-core-3/week-10/lesson.md","ref":"js-core-3/week-10/lesson.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["prism","-highlight","todo","scripts"],"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-tomorrow.css"]},"scripts":{"files":["./checkboxRemember.js"]},"todo":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"js-core-3/week-11/lesson.md","mtime":"2018-04-08T14:43:23.530Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-04-08T14:44:50.910Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-scripts/c7a8b0876428f8ec3c1b5735174e535d-checkboxRemember.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

