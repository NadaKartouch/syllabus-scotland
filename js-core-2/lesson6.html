
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Week 10 - More Arrays and ES6 Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-tomorrow.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="lesson7.html" />
    
    
    <link rel="prev" href="lesson5.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../lesson0.html">
            
                <a href="../lesson0.html">
            
                    
                    Week 0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    HTML/CSS
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../html-css/lesson1.html">
            
                <a href="../html-css/lesson1.html">
            
                    
                    Week 1 - Semantic HTML and CSS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../html-css/lesson2.html">
            
                <a href="../html-css/lesson2.html">
            
                    
                    Week 2 - Responsive Web and layout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../html-css/lesson3.html">
            
                <a href="../html-css/lesson3.html">
            
                    
                    Week 3 - Frameworks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../html-css/coding-101.html">
            
                <a href="../html-css/coding-101.html">
            
                    
                    Coding 101
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    JavaScript Core
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../js-core/lesson1.html">
            
                <a href="../js-core/lesson1.html">
            
                    
                    Week 4 - Hello JavaScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../js-core/lesson2.html">
            
                <a href="../js-core/lesson2.html">
            
                    
                    Week 5 - Arrays and Objects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../js-core/lesson3.html">
            
                <a href="../js-core/lesson3.html">
            
                    
                    Week 6 - Unit Testing and TDD
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../js-core/lesson3.5.html">
            
                <a href="../js-core/lesson3.5.html">
            
                    
                    Week 7 - Pair Programming Day
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    JavaScript Core II
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="lesson4.html">
            
                <a href="lesson4.html">
            
                    
                    Week 8 - JS in the Browser
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="lesson5.html">
            
                <a href="lesson5.html">
            
                    
                    Week 9 - Good design and OO
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5.3" data-path="lesson6.html">
            
                <a href="lesson6.html">
            
                    
                    Week 10 - More Arrays and ES6
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="lesson7.html">
            
                <a href="lesson7.html">
            
                    
                    Week 11 - More Objects and core JS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Node and DB
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../node-db/lesson1.html">
            
                <a href="../node-db/lesson1.html">
            
                    
                    Week 12 - Node and Express 101
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../node-db/lesson2.html">
            
                <a href="../node-db/lesson2.html">
            
                    
                    Week 13 - Templating and APIs 
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../node-db/lesson3.html">
            
                <a href="../node-db/lesson3.html">
            
                    
                    Week 14 - More Node, Middleware and Dynamo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../node-db/lesson4.html">
            
                <a href="../node-db/lesson4.html">
            
                    
                    Week 15 - MongoDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../node-db/lesson5.html">
            
                <a href="../node-db/lesson5.html">
            
                    
                    Week 16 - Mongoose
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" >
            
                <span>
            
                    
                    Week 17 - Node/DB Recap
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    React
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../react/lesson1.html">
            
                <a href="../react/lesson1.html">
            
                    
                    Week 18
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../react/lesson2.html">
            
                <a href="../react/lesson2.html">
            
                    
                    Week 19
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../react/lesson3.html">
            
                <a href="../react/lesson3.html">
            
                    
                    Week 20
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../react/lesson4.html">
            
                <a href="../react/lesson4.html">
            
                    
                    Week 21
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../house-rules.html">
            
                <a href="../house-rules.html">
            
                    
                    House Rules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../PRACTICES.html">
            
                <a href="../PRACTICES.html">
            
                    
                    Coding Standards and Best Practices
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../CONTRIBUTING.html">
            
                <a href="../CONTRIBUTING.html">
            
                    
                    Contributing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../lesson-template.html">
            
                <a href="../lesson-template.html">
            
                    
                    Lesson Template
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Week 10 - More Arrays and ES6</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="javascript-core-6">JavaScript Core 6</h1>
<p><strong> What we will learn today?</strong></p>
<ul>
<li>Built in constructor functions and methods</li>
<li>Inheritance using Constructor.prototype</li>
<li>Array methods and callbacks</li>
<li>Intro to ES6</li>
<li>TDD revisited<ul>
<li>Modules</li>
</ul>
</li>
</ul>
<hr>
<h1 id="built-in-constructor-functions-and-methods">Built in constructor functions and methods</h1>
<p>In the first lesson we learnt about some of the data types available in JavaScript: &apos;String&apos;, &apos;Boolean&apos;, &apos;Array&apos;, &apos;Object&apos; and &apos;Number&apos;.</p>
<p>So far we&apos;ve learnt how to create data using literal syntax. For example to create a string you can write</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> myString <span class="token operator">=</span> <span class="token string">&apos;Hello&apos;</span><span class="token punctuation">;</span>
</code></pre>
<p>And to create an array:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> myArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&apos;hello&apos;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>And an object, just for fun:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> myObject <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">&apos;Daniel&apos;</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  interests<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&apos;JavaScript&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;Cycling&apos;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>This is the best way to create new data, but it&apos;s helpful to know that you can also create new data using the <code>new</code> operator and a built in constructor function.</p>
<p>For example, you <em>could</em> also create a new string like this:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> myString <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&apos;Hello&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Or an array:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> myArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<blockquote>
<p>Do not actually create data using this approach in practice. These examples are for learning purposes only!</p>
</blockquote>
<p><code>String</code> is a constructor function just like the constructor functions we learnt to write in the previous session, and <code>myString</code> is an instance of <code>String</code>. (Kinda cool how JavaScript is built on JavaScript, huh?!)</p>
<p>When you check what a string looks like created in this way, things get a bit weird though:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> myString <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&apos;Hello&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myString<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Will log:</p>
<pre class="language-"><code class="lang-js">String <span class="token punctuation">{</span>
  <span class="token number">0</span><span class="token punctuation">:</span> <span class="token string">&quot;h&quot;</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">&quot;e&quot;</span><span class="token punctuation">,</span>
  <span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">&quot;l&quot;</span><span class="token punctuation">,</span>
  <span class="token number">3</span><span class="token punctuation">:</span> <span class="token string">&quot;l&quot;</span><span class="token punctuation">,</span>
  <span class="token number">4</span><span class="token punctuation">:</span> <span class="token string">&quot;o&quot;</span><span class="token punctuation">,</span>
  length<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token punctuation">[</span>PrimitiveValue<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token string">&quot;hello&quot;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Whoa! What happened to my string?! Why does this happen? Why isn&apos;t <code>myString</code> just <code>&apos;hello&apos;</code>?</p>
<p>The first reason is that, if you remember back to the previous session, constructor functions create objects. Calling <code>new <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Constructor</span><span class="token punctuation">&gt;</span></span></code> always returns an object.</p>
<p>The second reason is that any objects a constructor creates can be given methods, and methods for built in data types turn out to be extremely useful.</p>
<blockquote>
<p>Recap: methods are functions that belong to an object</p>
</blockquote>
<p>We can try calling some of the methods given to strings.</p>
<pre class="language-"><code class="lang-js">myString<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// hello</span>
myString<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&apos;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [&apos;h&apos;, &apos;e&apos;, &apos;l&apos;, &apos;l&apos;, &apos;o&apos;]</span>
myString<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&apos;o&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
</code></pre>
<p>You might also have noticed that our instance of <code>String</code> also has a <code>length</code> property, so we can go ahead and find out the length of our string:</p>
<pre class="language-"><code class="lang-js">myString<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 5</span>
</code></pre>
<p>Before we move onto the next section, just remember that the purpose of this lesson was to improve our understanding of how JavaScript work. You don&apos;t need to actually create data using <code>new String()</code> to get access to all the methods provided by <code>String</code> (JavaScript does this for you behind the scenes).</p>
<p><strong>Exercises</strong>:</p>
<ul>
<li>Create a string using literal syntax and call the <code>.toUpperCase()</code> method on it</li>
<li>Create an array and call the <code>.push()</code> method on it</li>
<li>Create a string using the built in <code>String</code> constructor function and note any differences from using literal syntax</li>
<li>Call a method e.g. <code>.toUpperCase()</code> on a string you created using the <code>String</code> constructor function</li>
</ul>
<p>Learn about split and join</p>
<h1 id="inheritance-using-constructorprototype">Inheritance using Constructor.prototype</h1>
<p>In the previous lesson we learnt how to write methods like this:</p>
<pre class="language-"><code>function Person(name) {
  this.name = name;
  this.greeting = function greeting() {
    alert(&apos;Hello my name is &apos; + this.name);
  }
}
</code></pre><p>Using this approach, every time that <code>Person</code> is instantiated, a new <code>greeting</code> function is created. If you create a <code>new Person()</code> 100 times, 100 <code>greeting</code> functions will be created for each one. This seems wasteful considering all the <code>greeting</code> functions are exactly the same.</p>
<p>One way to solve this is using <em>prototypal inheritance</em>. That sounds a bit scary so let&apos;s take it a step at a time.</p>
<p>We can say that a property is inherited when it is passed down from a parent. For example, perhaps one of the properties your parents passed to you was being really good looking. You might say that it&apos;s a family trait.</p>
<p>In JavaScript, there are 2 ways that a new objects receives properties. The first is <em>copying</em>, the way we&apos;ve being doing it so far: inside the constructor function properties are added to the new object (<code>this</code>) when it is created. The properties are inherited from the (parent) constructor function, but once the object has been created the constructor function cannot change it.</p>
<h3 id="prototype"><code>prototype</code></h3>
<p>The other way that objects can receive properties from their constructor function is by <em>inheritance</em>. This happens via the constructor function&apos;s <code>prototype</code>, which is an object containing hidden properties and methods.  </p>
<blockquote>
<p>Exercise</p>
<p>Open up the console in your web browser and type in <code>String.prototype</code>. An object with will be returned. If you expand this object you&apos;ll see that it contains several hidden methods.</p>
<p>You can also search on the internet for &quot;String prototype&quot;, &quot;Array prototype&quot; etc. and find documentation for the associated methods.</p>
</blockquote>
<p>When you create a new object, a hidden link is made between the new object and it&apos;s constructor function&apos;s <code>prototype</code>.</p>
<p>We can test that this link exists in our browser&apos;s console:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">function</span> MyConstructor <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> myObj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyConstructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>myObj<span class="token punctuation">)</span> <span class="token operator">===</span> MyConstructor<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
</code></pre>
<p>Let&apos;s add a method to our constructor function&apos;s prototype:</p>
<pre class="language-"><code class="lang-js">MyConstructor<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>greeting <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;Hello&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The <code>greeting</code> method will now be inherited by objects created with <code>MyConstructor</code>.</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> myObj2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myObj2<span class="token punctuation">.</span><span class="token function">greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Hello</span>
</code></pre>
<p>Remember that when objects are created a link between them and their constructor is created? Well, even though <code>myObj</code> was created before we added the <code>greeting</code> method, <code>myObj</code> is linked to <code>MyConstructor.prototype</code>, so it will inherit the newly created method as well.</p>
<pre class="language-"><code class="lang-js">myObj<span class="token punctuation">.</span><span class="token function">greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Hello</span>
</code></pre>
<p>Both <code>myObj</code> and <code>myObj2</code> inherit properties from <code>MyConstructor</code> via <em>prototypal inheritance</em>.</p>
<pre class="language-"><code class="lang-js">Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>myObj<span class="token punctuation">)</span> <span class="token operator">===</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>myObj2<span class="token punctuation">)</span> <span class="token operator">===</span> MyConstructor<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
</code></pre>
<h3 id="the-prototype-chain">The prototype chain</h3>
<p>When you access a property of an object, JavaScript first checks if the object has such a property itself. If it does it will use that. If not, it will check the object&apos;s prototype.</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">function</span> Person <span class="token punctuation">(</span>name<span class="token punctuation">,</span> formal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>formal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>greeting <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;Hello, my name is &apos;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Person<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>greeting <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;Hey, it\&apos;s &apos;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> alice <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&apos;Alice&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// No greeting method on alice</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>alice<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { name: &apos;Alice&apos; }</span>
alice<span class="token punctuation">.</span><span class="token function">greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Hey it&apos;s Alice</span>

<span class="token keyword">var</span> bob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&apos;Bob&apos;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// bob was instantiated with a greeting method</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>alice<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { name: &apos;Bob&apos;, greeting: function() {} }</span>
bob<span class="token punctuation">.</span><span class="token function">greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Hello, my name is Bob</span>
</code></pre>
<h1 id="array-methods-and-callbacks">Array methods and callbacks</h1>
<p>The most useful built in methods in JavaScript are the <code>Array.prototype</code> methods. Every array has access to these methods (because Arrays are created by the <code>Array</code> constructor function they inherit the the properties of <code>Array.prototype</code>).</p>
<p>Of particular use are the <code>Array</code> methods that enable you to <em>iterate</em> over an array. We&apos;ve covered iteration already when we learnt how to use <code>for</code> loops. Well, I have some amazing news for you - you will probably never need to write a <code>for</code> loop again!</p>
<p>Let&apos;s take a look at <code>Array.prototype.forEach</code> first. This is pretty much a straight replacement for <code>for</code> loops.</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> myArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

myArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// 1</span>
<span class="token comment" spellcheck="true">// 2</span>
<span class="token comment" spellcheck="true">// 3</span>
</code></pre>
<p>OOOOF! Wasn&apos;t that glorious?! Much nicer than writing a <code>for</code> loop! So how exactly does this work? <code>forEach</code> <em>iterates</em> over each item the array. For each item is calls a function - the one that was provided as an parameter to <code>forEach</code>.</p>
<h2 id="callback-functions">Callback functions</h2>
<p>Functions that are provided as parameters to another function are called <em>callback functions</em>. Often we will write these functions inside the function call like did in the <code>forEach</code> example, but we can also pass in reference to an already defined function:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">function</span> <span class="token function">callback</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

myArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Whether you define your function beforehand or write it straight into the function call will depend on whether you intend on re-using that callback again.</p>
<h2 id="more-array-methods">More array methods</h2>
<p>Previously we&apos;ve used for loops to create new versions of an array doing something like this:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> current <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  newArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>current <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [2,3,4]</span>
</code></pre>
<p>There are several methods on <code>Array.prototype</code> that can be used for this sort of task.</p>
<p>The most popular method is <code>.map()</code>, which does the following:</p>
<ul>
<li>iterates over the array it is called on</li>
<li>calls a callback function on every iteration</li>
<li>passes in the current array item and its index to the callback function</li>
<li>uses the returned value from the callback function to populate a new array</li>
<li>returns the new array</li>
</ul>
<p>That sounds like a lot but once you use <code>.map()</code> a few times it&apos;ll begin to feel more intuitive. Let&apos;s try it and see if we can refactor the for loop example:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> newArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [2,3,4]</span>
</code></pre>
<p>Another useful array method is <code>.filter()</code>. It works in a similar way to map except that rather than return a value in the callback function, you return <code>true</code> or <code>false</code> depending on whether you want the current item to be included in the new array. Returning <code>true</code> means that you want to keep the item, returning <code>false</code> means it should be omitted.</p>
<p>Let&apos;s create a new array with only numbers greater than 5:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> newArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arr <span class="token operator">&gt;</span> <span class="token number">5</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [5,6,7,8,9]</span>
</code></pre>
<blockquote>
<p>Remember: Most array methods do not change the current array, they return a new array. Check the MDN documentation for the array method if you are not sure about this.</p>
</blockquote>
<h2 id="chaining-methods">Chaining methods</h2>
<p>If we want to apply more than one array method to an array we might try something like this, creating an intermediate variable after each transformation.</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> arrMapped <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> arrFiltered <span class="token operator">=</span> newArr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>This can get quite awkward though, especially when you have to think of a variable name for each stage. Thankfully there is a much simpler way. We can <em>chain</em> methods together:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
  <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> num <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> num <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>There&apos;s nothing magical happening here. This works because:</p>
<ul>
<li>the array methods are returning new arrays</li>
<li>every array has access to all the array methods on <code>Array.prototype</code></li>
</ul>
<p>As soon as an array is returned by an array method we can call another array method on the return value.</p>
<blockquote>
<p>Exercise</p>
<p>Transform the following array [4,5,3,6,7,8,9,1,2] by 1) sorting it, 2) doubling each number, and 3) filtering numbers less than 10
Write named functions that can be used as callbacks.</p>
</blockquote>
<h1 id="intro-to-es6">Intro to ES6</h1>
<p>ECMAScript 2015 (or ES6) is a significant update to JavaScript that introduces new syntax for writing complex applications including classes and modules and other features.</p>
<h2 id="const-and-let">const and let</h2>
<p>on JS Bin, let&apos;s write this simple code snippet
``js
function sayGreeting(name, gender) {
    var greeting = &apos;Hello&apos;;
    var nameWithTitle;
    if (gender === &apos;female&apos;) {
        nameWithTitle = &apos;Ms. &apos; + name;
    } else {
        nameWithTitle = &apos;Mr. &apos; + name;
    }
    return greeting + name;
}
// sayGreeting(&apos;Rares&apos;, &apos;male&apos;) should return &apos;Hello Mr. Rares&apos;
// sayGreeting(&apos;Irina&apos;, &apos;female&apos;) should return &apos; Hello Ms. Irina&apos;</p>
<pre class="language-"><code>&gt; Exercise: Let&apos;s update this code to use `let` and `const` instead of `var`

## Template literals

&gt; Exercise: We do a lot of string concatenation in JavaScript - ES6 introduces a more elegant way of accomplishing the same. Let&apos;s try it.

## Arrow functions
&gt; Exercise: ES6 also has a new way of declaring functions. Let&apos;s see how it works.

&gt; Exercise: Refactor the previous code to have a separate function that checks if gender is &apos;female&apos; or not, and use it in sayGreeting. Let&apos;s try and make the code as compact as possible together using ES6 features.

## More ES6
There are so many features in ES6. They&apos;re mostly what we call `syntax sugar`. They don&apos;t provide new functionality, but new (more elegant) ways of accomplishing the same tasks.

Since not all ES6 features are supported in all browsers, many developers and projects use what is called `Transpilation` - a process that transpiles/translates ES6 code to ES5 syntax that is supported by all browsers.

On Node, most ES6 features are now natively supported in Node 8.

&gt; From now on, we expect you to use ES6 syntax in your assignments and the code you write.

# TDD again

&gt; Exercise: Clone the repo https://github.com/CodeYourFuture/js-core-2-exercises

&gt; Let&apos;s talk about TDD again?
&gt; 1. Why do we do TDD
&gt; 2. How do we run the tests? Read some of the tests
&gt; 3. Notice we&apos;re separating our tests from our code now. We are making use of **modules**
&gt; 4. Also notice the **coverage**

## How do modules work?

So far, all our programs have been in their own single files. But Node programs can become really large, and having all our code in only one file will not be maintainable.

We can therefore split our code into so-called *modules*. A module is basically a JavaScript file that makes its functionality available to other modules and programs.

## Creating modules, exporting code

It is really simple to take existing JavaScript code and turn it into a module by exporting its functionality:

```js
function printName(name) {
  console.log(&quot;My name is &quot; + name);
}

module.exports = printName;
</code></pre><p>The key here is the line containing <code>module.exports</code>. As you see, this is an assignment, and whatever is assigned to <code>module.exports</code> will be made available to other modules and program when this file is imported.</p>
<h2 id="using-modules-importing-code">Using modules, importing code</h2>
<p>But how do we make use of another module in our program? We need to <em>import</em> it, and this is done using a function called <code>require()</code>.</p>
<blockquote>
<p>There are different module formats for JavaScript. The one we are using here, which is natively supported by Node, is called <strong>CommonJS</strong>.</p>
</blockquote>
<pre class="language-"><code class="lang-js"><span class="token keyword">var</span> printName <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;./printName.js&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<blockquote>
<p>The string passed to the <code>require()</code> function is a <em>path</em> to the file you are importing. <code>./</code> signifies the current directory, so the above command will import a file called &quot;printName.js&quot; that is in the same directory as our program.</p>
</blockquote>
<p>Assuming our program is in the same folder as <code>printName.js</code>, we can use the above code to import the functionality provided by that module and store it in the <code>printName</code> variable.</p>
<p>We can then continue to use the <code>printName</code> function as if it we defined it in our own program!</p>
<pre class="language-"><code>var printName = require(&apos;./printName.js&apos;);

printName();
</code></pre><blockquote>
<p>Modules can not only export functions, but all variable types you already learned about. Most commonly, they export a function or an object containing multiple functions.</p>
<p><em>Together:</em> Edit the file <code>modules/main.js</code> and follow the instructions.</p>
</blockquote>
<h2 id="separating-code-and-tests">Separating code and tests</h2>
<p>Exporting and importing modules is really useful for testing, too.</p>
<p>As a rule of thumb, we never want to mix our actual code with our tests. It is therefore common to put them in separate files. We are going to call the file containing the tests after the file containing the code to be tested, just appending <code>.test</code> at the end of the filename. Like so:</p>
<pre class="language-"><code>main.js               # Our main program
main.test.js          # Tests for our main program
someOtherCode.js      # A module called &quot;someOtherCode&quot;
someOtherCode.test.js # Tests for the &quot;someOtherCode&quot; module
</code></pre><blockquote>
<p>The naming is really up to convention - you can even put your tests in a different folder! However, for Jest it is important to call test files &quot;*.test.js&quot;.</p>
</blockquote>
<h1 id="resources">Resources</h1>
<ol>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Inheritance" target="_blank">https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Inheritance</a></li>
<li><a href="http://sporto.github.io/blog/2013/02/22/a-plain-english-guide-to-javascript-prototypes/" target="_blank">http://sporto.github.io/blog/2013/02/22/a-plain-english-guide-to-javascript-prototypes/</a></li>
<li><a href="https://johnresig.com/apps/learn/#64" target="_blank">https://johnresig.com/apps/learn/#64</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array Methods</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">String Methods</a></li>
<li><a href="http://es6-features.org/" target="_blank">ES6 features</a></li>
<li><a href="http://wesbos.com/let-vs-const/" target="_blank">Let and const</a></li>
</ol>
<h1 id="homework">Homework</h1>
<ol>
<li><p>Watch Wes Bos videos about ES6 - <a href="https://es6.io/" target="_blank">https://es6.io/</a> (if you don&apos;t have access, let us know)</p>
</li>
<li><p>Fork, Clone and Do the exercises in this repo - <a href="https://github.com/CodeYourFuture/js-core-2-exercises" target="_blank">https://github.com/CodeYourFuture/js-core-2-exercises</a></p>
</li>
</ol>
<h2 id="prepare-for-the-next-class">Prepare for the next class</h2>
<ol>
<li>Finish this tutorial about Chrome Dev Tools(<a href="https://developers.google.com/web/tools/chrome-devtools/javascript/" target="_blank">https://developers.google.com/web/tools/chrome-devtools/javascript/</a>)</li>
</ol>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="lesson5.html" class="navigation navigation-prev " aria-label="Previous page: Week 9 - Good design and OO">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="lesson7.html" class="navigation navigation-next " aria-label="Next page: Week 11 - More Objects and core JS">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Week 10 - More Arrays and ES6","level":"1.5.3","depth":2,"next":{"title":"Week 11 - More Objects and core JS","level":"1.5.4","depth":2,"path":"js-core-2/lesson7.md","ref":"js-core-2/lesson7.md","articles":[]},"previous":{"title":"Week 9 - Good design and OO","level":"1.5.2","depth":2,"path":"js-core-2/lesson5.md","ref":"js-core-2/lesson5.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["prism","-highlight"],"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-tomorrow.css"]},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"js-core-2/lesson6.md","mtime":"2018-02-09T11:55:43.688Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-02-09T11:57:07.695Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

