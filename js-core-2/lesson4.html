
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Week 7 - JS in the Browser Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-tomorrow.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="lesson5.html" />
    
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../lesson0.html">
            
                <a href="../lesson0.html">
            
                    
                    Week 0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    HTML/CSS
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../html-css/lesson1.html">
            
                <a href="../html-css/lesson1.html">
            
                    
                    Week 1 - Semantic HTML and CSS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../html-css/lesson2.html">
            
                <a href="../html-css/lesson2.html">
            
                    
                    Week 2 - Responsive Web and layout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../html-css/lesson3.html">
            
                <a href="../html-css/lesson3.html">
            
                    
                    Week 3 - Frameworks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../html-css/coding-101.html">
            
                <a href="../html-css/coding-101.html">
            
                    
                    Coding 101
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    JavaScript Core
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../js-core/lesson1.html">
            
                <a href="../js-core/lesson1.html">
            
                    
                    Week 4 - Hello JavaScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../js-core/lesson2.html">
            
                <a href="../js-core/lesson2.html">
            
                    
                    Week 5 - Arrays and Objects
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../js-core/lesson3.html">
            
                <a href="../js-core/lesson3.html">
            
                    
                    Week 6 - Unit Testing and TDD
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../js-core/lesson3.5.html">
            
                <a href="../js-core/lesson3.5.html">
            
                    
                    Week 6.5 - Pair Programming Day
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    JavaScript Core II
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.5.1" data-path="lesson4.html">
            
                <a href="lesson4.html">
            
                    
                    Week 7 - JS in the Browser
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="lesson5.html">
            
                <a href="lesson5.html">
            
                    
                    Week 8 - Good design and OO
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="lesson6.html">
            
                <a href="lesson6.html">
            
                    
                    Week 9 - More Arrays and ES6
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="lesson7.html">
            
                <a href="lesson7.html">
            
                    
                    Week 10 - More Objects and core JS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Node and DB
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../node-db/lesson1.html">
            
                <a href="../node-db/lesson1.html">
            
                    
                    Week 11
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../node-db/lesson2.html">
            
                <a href="../node-db/lesson2.html">
            
                    
                    Week 12
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../node-db/lesson3.html">
            
                <a href="../node-db/lesson3.html">
            
                    
                    Week 13
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../node-db/lesson4.html">
            
                <a href="../node-db/lesson4.html">
            
                    
                    Week 14
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../node-db/lesson5.md">
            
                <span>
            
                    
                    Week 15
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    React
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../react/lesson1.html">
            
                <a href="../react/lesson1.html">
            
                    
                    Week 16
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../react/lesson2.html">
            
                <a href="../react/lesson2.html">
            
                    
                    Week 17
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../react/lesson3.html">
            
                <a href="../react/lesson3.html">
            
                    
                    Week 18
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../react/lesson4.html">
            
                <a href="../react/lesson4.html">
            
                    
                    Week 19
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../house-rules.html">
            
                <a href="../house-rules.html">
            
                    
                    House Rules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../PRACTICES.html">
            
                <a href="../PRACTICES.html">
            
                    
                    Coding Standards and Best Practices
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../CONTRIBUTING.html">
            
                <a href="../CONTRIBUTING.html">
            
                    
                    Contributing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../lesson-template.html">
            
                <a href="../lesson-template.html">
            
                    
                    Lesson Template
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Week 7 - JS in the Browser</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p><img src="https://img.shields.io/badge/status-draft-darkred.svg" alt=""></p>
<h1 id="javascript-core-4">JavaScript Core 4</h1>
<p><strong> What we will learn today?</strong></p>
<ul>
<li>JS in the Browser</li>
<li>DOM</li>
<li>AJAX</li>
</ul>
<hr>
<h2 id="js-in-the-browser">JS in the Browser</h2>
<p>Up until now we&apos;ve been using <code>console.log</code> to see the results of our code running, because it allows us to focus on writing code and seeing the results instantly. But JavaScript was not meant to be run in <code>console.log</code>: it was meant to make web pages pages dynamic.</p>
<p>Lots of websites are powered by JavaScript today, and some (like Facebook) cannot function at all without it: it&apos;s become that important to the look and feel of the website.</p>
<h2 id="the-dom">The DOM</h2>
<p>Your webpages are made up of a bunch of HTML elements, nested within each other (parents and children). But JavaScript doesn&apos;t know about any of that.</p>
<p>Thankfully, in JavaScript we have access to this &quot;DOM&quot; object (Document Object Model) which is actually a representation of our webpage that JavaScript can work with.</p>
<p>Here are two examples, HTML and then JavaScript, of how the DOM might look like:</p>
<pre class="language-"><code class="lang-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span> Welcome! <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span> Hello world! <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">var</span> document <span class="token operator">=</span> <span class="token punctuation">{</span>
    body<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        h1<span class="token punctuation">:</span> <span class="token string">&quot;Welcome&quot;</span><span class="token punctuation">,</span>
        p<span class="token punctuation">:</span> <span class="token string">&quot;Hello world!&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>The DOM offers a lot of useful functions we can use to find elements on the page. Here are some we&apos;ll be using today:</p>
<pre class="language-"><code class="lang-javascript">    document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&apos;#mainHeader&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&apos;p&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Both <code>.querySelector</code> and <code>querySelectorAll</code> accept a CSS selector as an input.
<code>.querySelector</code> selects only the first element it finds, <code>querySelectorAll</code> selects all elements (it returns an array).</p>
<p>Once you retrieve an element using <code>.querySelector</code>, you can attach an <strong>event</strong> to it. An event is any action that can be performed on that element. For now, we will just use the <strong>click</strong> event:</p>
<pre class="language-"><code class="lang-javascript">    <span class="token keyword">var</span> myButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&apos;#myButton&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    myButton<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> alertSomething<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">alertSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Something&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre>
<p>You will notice in the example example that we passed a second argument to <code>addEventListener</code>. That second argument is the <strong>function</strong> that we want to invoke when that event has happened.</p>
<blockquote>
<p><strong>Exercise</strong>:</p>
<ul>
<li>Fork the repo <a href="https://github.com/CodeYourFuture/dom-ajax" target="_blank">here</a> and clone it locally.</li>
<li>Open <code>index.html</code> in your browser.</li>
<li>In <code>./js/main.js</code> write code so that when a user presses the <strong>Donate a bike today</strong> button, an <strong>alert</strong> pops up, thanking them for their donation.</li>
</ul>
</blockquote>
<p>The elements returned by <code>document.querySelector</code> have the same properties as a normal HTML element: for example, you can get access to their css <strong>styles</strong>.</p>
<pre class="language-"><code class="lang-javascript">    <span class="token keyword">var</span> myElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&apos;#myElement&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    myElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&apos;red&apos;</span><span class="token punctuation">;</span>
</code></pre>
<blockquote>
<p><strong>Exercise</strong>:
Change your code, so that instead of <strong>alerting</strong> something when you press the button, it changes the background color of the Jumbotron to <code>red</code>.</p>
</blockquote>
<p>Using the <code>document</code>, you can also create new elements. These elements will not appear until you append them as a child of another element though:</p>
<pre class="language-"><code class="lang-javascript">    <span class="token keyword">var</span> paragraph <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&apos;p&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// here we&apos;re just creating it, element is not visible yet</span>
    myElement<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>paragraph<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// now the element is added to our view, but it&apos;s empty</span>
</code></pre>
<p><code>document.createElement</code> accepts as an input any element type. So for example <code>document.createElement(&apos;article&apos;)</code> will create a new article element.</p>
<p>You can then change the text displayed inside elements using the <code>innerText</code> property:</p>
<pre class="language-"><code class="lang-javascript">    paragraph<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&quot;How are you?&quot;</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// now we can see the text displaying on the screen</span>
</code></pre>
<blockquote>
<p><strong>Exercise</strong>:
When <strong>Add to learn more</strong> button is clicked it should:</p>
<ul>
<li>create a new paragraph element</li>
<li>set its inner text property to some message you want</li>
<li>add the paragraph to the <code>#mainArticles</code> element just below <strong>Learn more</strong></li>
</ul>
</blockquote>
<p>We&apos;ve been using <code>document.querySelector</code> to retrieve a single element.
To retrieve an array of multiple elements (that match a specific class name for example, or a specific tag) we use <code>document.querySelectorAll</code>.</p>
<pre class="language-"><code class="lang-javascript">    <span class="token comment" spellcheck="true">//change the background of all the paragraph items on our page</span>
    <span class="token keyword">var</span> paragraphs <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&apos;p&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>paragraphs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        paragraphs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre>
<p>We&apos;ve learned that <code>style</code> and <code>innerText</code> are properties of DOM elements. Image tags can also have <code>width</code> and <code>height</code>.</p>
<blockquote>
<p><strong>Exercise</strong>:
Every time the <strong>All images</strong> button is clicked it should reduce and width and height of all images on the webpage by <code>10</code>.</p>
</blockquote>
<p>While it&apos;s really easy to change styles directly on elements using the <code>style</code> property, it is not usually a good idea to mix JavaScript and CSS (see separation of concerns in the first lesson). To solve this, we can use the <code>className</code> property to set the class for an element instead of changing its styles directly:</p>
<pre class="language-"><code class="lang-javascript"><span class="token comment" spellcheck="true">//before: &lt;div id=&quot;myContainer&quot;&gt;&lt;/div&gt;</span>
<span class="token keyword">var</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&apos;#myContainer&apos;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
container<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&quot;largeBlock&quot;</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//after: &lt;div id=&quot;myContainer&quot; class=&quot;largeBlock&quot;&gt;&lt;/div&gt;</span>
</code></pre>
<blockquote>
<p><strong>Exercise</strong>:
Remember the button that changes the color of the jumbotron to <code>red</code>? Go back and try to do that without modifying the styles. You can use the <code>.red</code> class.</p>
<p><strong>Advanced Exercise</strong>:</p>
<ul>
<li>When you type something into the box below the <strong>Jumbotron</strong> and click the <strong>Add</strong> button it should add a new <strong>Article</strong> below <strong>Learn More</strong> with what you typed as the inner text. It should then clear the input.</li>
<li>Make sure you create a proper <strong>article</strong> that looks like the others above it (it should be an article element, that contains a paragraph element, that contains your text, it should also have the class <strong>article</strong>).</li>
</ul>
</blockquote>
<h2 id="ajax">AJAX</h2>
<h3 id="whats-a-server">What&apos;s a server?</h3>
<p>A device or program that <strong>provides functionality to other programs or devices</strong>. There are database servers, mail servers, game servers, etc.</p>
<p>They can take the form of industrial server farms that provide a service to millions of users (used by Facebook, Google, etc.), to personal servers for storing your files.</p>
<p>The server communicates with <strong>clients</strong>. Clients can be a web browser, a Slack app, your phone, etc.</p>
<p>Client&#x2013;server systems use the <strong>request&#x2013;response model</strong>: a client sends a request to the server, which performs some action and sends a response back to the client, typically with a result or acknowledgement.</p>
<blockquote>
<p>An example: We can use the Slack app (the client) to put our messages or pictures on Slack. The content is stored on the Slack servers and other clients can then also access the pictures.</p>
</blockquote>
<h3 id="http-requests">HTTP requests</h3>
<p>A server stores the data, and the client (other programs or computers) requests data or sends some of its own. But how do they talk to each other?</p>
<p><strong>For the client and the server to communicate they need an established language (a protocol)</strong>. Which is what HTTP (Hypertext Transfer Protocol) is for. It defines the methods you can use to communicate with a server and indicate your desired actions on the resources of the server.</p>
<p>There are two main types of requests: GET and POST.</p>
<blockquote>
<p>With a <strong>GET request</strong> you can ask for specified resource (e.g. show me that Slack photo).</p>
<p>With a <strong>POST request</strong> you can send content to the server to be appended to the web resource (e.g. post a photo on Slack).</p>
</blockquote>
<p>HTTP is the language of the internet. In our case we&apos;re using Javascript, but you can send HTTP requests with other laguages as well.</p>
<h3 id="ajax--asynchronous-javascript-and-xml">AJAX (= Asynchronous JavaScript And XML)</h3>
<p>AJAX is a set of useful methods for implementing client-server communication.</p>
<p><img src="https://www.w3schools.com/xml/ajax.gif" alt="AJAX Diagram" title="AJAX Diagram"></p>
<p>AJAX just uses a combination of:</p>
<blockquote>
<ul>
<li>A browser built-in XMLHttpRequest object (to request data from a web server)</li>
<li>JavaScript and HTML DOM (to display or use the data)</li>
</ul>
</blockquote>
<p><strong>Ajax works behind the scenes, helping the webpage communicate with the server (with GET and POST requests).</strong></p>
<blockquote>
<p>client ----------GET request----------&gt; server returns data to client</p>
<p>client ----------POST request (with content)---------&gt;server updates data with content</p>
</blockquote>
<p>The server holds the data, but it only sends it to the webpage when there&apos;s a request. The request can be sent after the page has loaded, for example when a user clicks a button.</p>
<h3 id="why-ajax">Why Ajax?</h3>
<p>There are other ways you can write HTTP requests, such as using Web sockets. What&apos;s great about AJAX is that it makes it look like magic! The server and the client communicate effortlessly:</p>
<blockquote>
<p>Update a web page without reloading the page
Request data from a server - after the page has loaded
Receive data from a server - after the page has loaded
Send data to a server - in the background</p>
</blockquote>
<h3 id="ajax-example">AJAX Example</h3>
<p>The instant update: we can write code that makes the web page instantly update its contents (without reloading the page).</p>
<p>Let&apos;s try sending some data from Rares&#x2019; phone to the server and see whether it will update the webpage.</p>
<blockquote>
<p><a href="http://zero-point.github.io/" target="_blank">http://zero-point.github.io/</a></p>
</blockquote>
<h3 id="lets-code">Let&apos;s Code!</h3>
<p>How does the code work? Let&apos;s break it down into parts and see what each does.</p>
<h4 id="post-code">POST Code</h4>
<pre class="language-"><code class="lang-javascript">  <span class="token keyword">var</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">//creating a request object</span>

  request<span class="token punctuation">.</span>onreadystatechange <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// check if a response was sent back</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token comment" spellcheck="true">// check if request was successful</span>
        textBox<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> request<span class="token punctuation">.</span>responseText<span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        textBox<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&apos;An error occurred during your request: &apos;</span> <span class="token operator">+</span>  request<span class="token punctuation">.</span>status <span class="token operator">+</span> <span class="token string">&apos; &apos;</span> <span class="token operator">+</span> request<span class="token punctuation">.</span>statusText<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&quot;http://ajax-cyf.eu-west-1.elasticbeanstalk.com/chatroom/?id=cyf&quot;</span><span class="token punctuation">;</span>                                            <span class="token comment" spellcheck="true">//server location</span>
  <span class="token keyword">var</span> params <span class="token operator">=</span> <span class="token string">&quot;Here is some content&quot;</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">// content we want to send</span>
  request<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span> url<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// adding them to the request</span>

request<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/x-www-form-urlencoded&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//header info</span>
request<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>                             <span class="token comment" spellcheck="true">// sending the request</span>
</code></pre>
<h4 id="get-code">GET Code</h4>
<pre class="language-"><code class="lang-javascript">  <span class="token keyword">var</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">//creating a request object</span>

  request<span class="token punctuation">.</span>onreadystatechange <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// check if a response was sent back</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token comment" spellcheck="true">// check if request was successful</span>
        textBox<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> request<span class="token punctuation">.</span>responseText<span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        textBox<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&apos;An error occurred during your request: &apos;</span> <span class="token operator">+</span>  request<span class="token punctuation">.</span>status <span class="token operator">+</span> <span class="token string">&apos; &apos;</span> <span class="token operator">+</span> request<span class="token punctuation">.</span>statusText<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&quot;http://ajax-cyf.eu-west-1.elasticbeanstalk.com/chatroom/?id=cyf&quot;</span><span class="token punctuation">;</span>                                        <span class="token comment" spellcheck="true">//server location</span>
  request<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> url<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">// adding it to the request</span>

request<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/x-www-form-urlencoded&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//header info</span>
request<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                 <span class="token comment" spellcheck="true">// sending the request</span>
</code></pre>
<h3 id="ajax-exercise">AJAX Exercise</h3>
<p>Everyone should organise in pairs, one person writing code to <strong>send data (POST)</strong> and one to <strong>receive it (GET)</strong>. Once you&#x2019;ve finished your code, combine it and put it into a html page. Now, try sending each other messages this way.</p>
<p>Don&#x2019;t forget to use a <strong>unique id</strong> at the end of the url (not &apos;cyf&apos;) and let your partner know what it is!</p>
<h1 id="resources">Resources</h1>
<ul>
<li>DOM Examples and explanation on MDN - <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Examples" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Examples</a></li>
<li>AJAX - <a href="https://developer.mozilla.org/en-US/docs/AJAX/Getting_Started" target="_blank">https://developer.mozilla.org/en-US/docs/AJAX/Getting_Started</a></li>
</ul>
<h1 id="homework">Homework</h1>
<ul>
<li>Continue working on <a href="https://github.com/CodeYourFuture/dom-ajax" target="_blank">the repository</a> you forked in this lesson<ul>
<li>Open up <strong>readme.md</strong> and follow the instructions in there.</li>
<li>Submit Pull Request after completing each part.</li>
</ul>
</li>
<li>Follow Intro to AJAX course by udacity - <a href="https://classroom.udacity.com/courses/ud110" target="_blank">https://classroom.udacity.com/courses/ud110</a> (register and signin if you need to)<ul>
<li>Follow the Requests and API lesson</li>
</ul>
</li>
<li>Fork <a href="https://github.com/CodeYourFuture/WebDeveloperTest" target="_blank">this repo</a> and follow the instructions<ul>
<li>This is a project with several deadlines, make sure you understand the requirements very well and start as soon as possible. Also communicate regularly using both <strong>email</strong> and Slack.</li>
</ul>
</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
                <a href="lesson5.html" class="navigation navigation-next navigation-unique" aria-label="Next page: Week 8 - Good design and OO">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Week 7 - JS in the Browser","level":"1.5.1","depth":2,"next":{"title":"Week 8 - Good design and OO","level":"1.5.2","depth":2,"path":"js-core-2/lesson5.md","ref":"js-core-2/lesson5.md","articles":[]},"previous":{"title":"JavaScript Core II","level":"1.5","depth":1,"ref":"","articles":[{"title":"Week 7 - JS in the Browser","level":"1.5.1","depth":2,"path":"js-core-2/lesson4.md","ref":"js-core-2/lesson4.md","articles":[]},{"title":"Week 8 - Good design and OO","level":"1.5.2","depth":2,"path":"js-core-2/lesson5.md","ref":"js-core-2/lesson5.md","articles":[]},{"title":"Week 9 - More Arrays and ES6","level":"1.5.3","depth":2,"path":"js-core-2/lesson6.md","ref":"js-core-2/lesson6.md","articles":[]},{"title":"Week 10 - More Objects and core JS","level":"1.5.4","depth":2,"path":"js-core-2/lesson7.md","ref":"js-core-2/lesson7.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["prism","-highlight"],"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-tomorrow.css"]},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"js-core-2/lesson4.md","mtime":"2017-07-22T13:44:01.196Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-07-22T13:45:04.157Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

